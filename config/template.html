<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Members on the Record (Automated) for {{date}}</title>
        <style>
            div.ex2 {max-width: 900px; margin: auto;}
        </style>
        <style>
            span.MOTR_Keyword {background-color: #ffcc33}
        </style>
        <style>
            .MOTR_Tooltip
            {
                position: relative;
                display: inline-block;
            }
                
            .MOTR_Tooltip .MOTR_Tooltiptext
            {
                visibility: hidden;
                width: 500px;
                background-color: #9fff80;
                color: black;
                text-align: center;
                border-radius: 6px;
                padding: 5px 0;
                
                /* Position the tooltip */
                position: absolute;
                z-index: 1;
                top: 100%;
                left: 50%;
                margin-left: -250px;
            }
                
            .MOTR_Tooltip:hover .MOTR_Tooltiptext
            {
                visibility: visible;
            }
        </style>
    </head>
    <body style="background-color:white;">
        <div class="ex2">
            <header>
                <h1 itemprop="name">Members on the Record (Automated) for {{date}}</h1>
            </header>
            {% for message in listOfMessages %}
                <p>{{message}}</p>
            {% endfor %}
            <button type="button" onclick="MOTR_Change_Highlight()">Toggle Keyword Highlights</button>
            <script>
                function MOTR_Change_Highlight()
                {
                    var All_MOTR_Keywords = document.getElementsByClassName("MOTR_Keyword")
                    for (let i = 0; i < All_MOTR_Keywords.length; i++)
                    {
                        if (All_MOTR_Keywords[i].style.backgroundColor == "white")
                        {
                            All_MOTR_Keywords[i].style.backgroundColor = "#ffcc33";
                        }
                        else
                        {
                            All_MOTR_Keywords[i].style.backgroundColor = "white";
                        }
                    }
                }
            </script>
            <br>
            <div>
                    {% for category, listOfFormattedTweets in dictFormattedConvs.items() %}
                        <p><span style="text-decoration: underline;"><em><strong>{{category}}</strong></em></span></p>
                        
                        {% for formattedTweet in listOfFormattedTweets %}
                            <p><a href="https://twitter.com/i/web/status/{{formattedTweet.id}}">{{formattedTweet.name}}{{formattedTweet.partyAndState}}</a> {{formattedTweet.day}}: {{formattedTweet.type}} &#8211; “<em>{{formattedTweet.text}}</em>”</p>
                        {% endfor %}
                        <br>
                    {% endfor %}
            </div>               
        </div>
    </body>
</html>
